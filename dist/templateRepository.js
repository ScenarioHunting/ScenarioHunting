(()=>{"use strict";var e={468:(e,t,i)=>{i.d(t,{Y:()=>a});var n=function(e,t,i,n){return new(i||(i=Promise))((function(o,a){function l(e){try{d(n.next(e))}catch(e){a(e)}}function r(e){try{d(n.throw(e))}catch(e){a(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(l,r)}d((n=n.apply(e,t||[])).next())}))};class o{getAllTemplateNames(){return n(this,void 0,void 0,(function*(){return(yield this.findAllTemplateWidgets()).map((e=>(console.log("template:"+e.metadata[miro.getClientId()].templateName+"found!"),e.metadata[miro.getClientId()].templateName)))}))}removeTemplate(e){return n(this,void 0,void 0,(function*(){(yield this.findWidgetByTemplateName(e)).forEach((e=>n(this,void 0,void 0,(function*(){return yield miro.board.widgets.deleteById(e.id)}))))}))}createOrReplaceTemplate(e){return n(this,void 0,void 0,(function*(){console.log("createOrReplaceTemplate:"),console.log("finding widget for template:",e.templateName);var t=yield this.findWidgetByTemplateName(e.templateName);if(console.log(`${t.length} widgets found for template with name: ${e.templateName}`),0==t.length){console.log("Creating template:",e);const t=yield miro.board.viewport.get();yield miro.board.widgets.create({type:"TEXT",text:e.contentTemplate,metadata:{[miro.getClientId()]:e},capabilities:{editable:!1},style:{textAlign:"l"},x:t.x-200,y:t.y-200}),console.log(`template: ${e.templateName} is created successfully.`)}else{console.log("Updating template:",e);var i=t[0];i.metadata[miro.getClientId()]=e,yield miro.board.widgets.update(i),console.log(`template:${e.templateName} is updated successfully.`)}}))}findAllTemplateWidgets(){return n(this,void 0,void 0,(function*(){var e=(yield miro.board.widgets.get()).filter((e=>"STICKER"==e.type&&e.text.includes("using")));return console.log("# of widgets contain using in their text:",e.length),(yield miro.board.widgets.get()).filter((e=>e.metadata&&e.metadata["3074457349056199734"]&&e.metadata["3074457349056199734"]&&e.metadata["3074457349056199734"].templateName))}))}findWidgetByTemplateName(e){return n(this,void 0,void 0,(function*(){return(yield this.findAllTemplateWidgets()).filter((t=>t.metadata[miro.getClientId()].templateName==e))}))}getTemplateByName(e){return n(this,void 0,void 0,(function*(){var t=yield this.findWidgetByTemplateName(e);if(0==t.length)throw new Error("Widget not found for template:"+e);console.log("Widgets found:",t);var i=t[0].metadata[miro.getClientId()];return console.log("Corresponding metadata:",t[0].metadata[miro.getClientId()]),console.log("Corresponding template:",i),i}))}}function a(){return n(this,void 0,void 0,(function*(){return new o}))}}},t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={id:n,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.m=e,i.x=e=>{},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={70:0},t=[[468]],n=e=>{},o=(o,a)=>{for(var l,r,[d,s,m,u]=a,p=0,c=[];p<d.length;p++)r=d[p],i.o(e,r)&&e[r]&&c.push(e[r][0]),e[r]=0;for(l in s)i.o(s,l)&&(i.m[l]=s[l]);for(m&&m(i),o&&o(a);c.length;)c.shift()();return u&&t.push.apply(t,u),n()},a=self.webpackChunkplugin_boilerplate=self.webpackChunkplugin_boilerplate||[];function l(){for(var n,o=0;o<t.length;o++){for(var a=t[o],l=!0,r=1;r<a.length;r++){var d=a[r];0!==e[d]&&(l=!1)}l&&(t.splice(o--,1),n=i(i.s=a[0]))}return 0===t.length&&(i.x(),i.x=e=>{}),n}a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a));var r=i.x;i.x=()=>(i.x=r||(e=>{}),(n=l)())})(),i.x()})();